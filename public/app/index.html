<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!doctype html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="VoteSavvy Survey" />
    <title>VoteSavvy Survey</title>
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <!-- Chrome for Android theme color -->
    <meta name="theme-color" content="#303F9F">

    <!-- Web Application Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Tile color for Win8 -->
    <meta name="msapplication-TileColor" content="#3372DF">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="VoteSavvy Survey">
    <link rel="icon" sizes="192x192" href="images/touch/chrome-touch-icon-192x192.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="VoteSavvy Survey">
    <link rel="apple-touch-icon" href="./images/touch/apple-touch-icon.png">

    <!-- Tile icon for Win8 (144x144) -->
    <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">

    <!-- build:css styles/main.css -->
    <link rel="stylesheet" href="../app/styles/main.css">
    <!-- endbuild-->

    <!-- build:js bower_components/webcomponentsjs/webcomponents-lite.min.js -->
    <script src="../app/bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <!-- endbuild -->

    <!-- will be replaced with elements/elements.vulcanized.html -->
    <link rel="import" href="../app/elements/elements.html">
    <!-- endreplace-->
</head>

<body unresolved class="fullbleed layout vertical">
    <span id="browser-sync-binding"></span>
    <template is="dom-bind" id="app">

        <paper-header-panel main mode="standard">


            <!-- Main Toolbar -->
            <paper-toolbar class="standard" id="mainToolbar">

                <span class="flex"></span>
                <span class="middle"><img style="margin-top:22px;" src="http://static1.squarespace.com/static/5596a2f8e4b0f75fd2971413/t/55a7f472e4b0bd72ffa3c1ce/1438448341501/?format=1500w"></span>
                <span id="screenName" class="vslogo"><%= screen_name %></span>
                <!-- Toolbar icons -->

                <div class="horizontal-section-container" style="color:white;margin-top:22px;">
                    <div class="horizontal-section">
                        <paper-menu-button>
                            <paper-icon-button icon="account-circle" class="dropdown-trigger"></paper-icon-button>
                                <paper-menu id="avatarMenu" class="dropdown-content">
                                    <template is='dom-if' id="menuTemplate" if="{{!signinvisible}}">
                                        <paper-item onclick="location.href='signintwitters/logout'">Logout</paper-item>
                                    </template>
                                    <template is='dom-if' id="menuTemplate" if="{{signinvisible}}">
                                        <paper-item onclick="location.href='signintwitters/step1'">Signin</paper-item>
                                    </template>
                                </paper-menu>
                        </paper-menu-button>
                    </div>
                </div>

                <!-- Application name -->
                <div class="middle paper-font-display2 app-name"></div>

                <!-- Application sub title -->
                <div class="bottom title"></div>

                <paper-tabs id="categoryTab" class="middle horizontal self-end" style="width: 60%; margin-bottom:10px;color:white;font-size:14px;">
                    <paper-tab>SURVEY</paper-tab>
                    <paper-tab>INFO PACK</paper-tab>
                </paper-tabs>

                <!--                <div class="bottom flex self-start"></div>-->
            </paper-toolbar>


            <!-- Main Content -->
            <div class="content" id="mainContent">
                <iron-pages attr-for-selected="data-route" selected="home">

                    <section data-route="home" animateInitialSelection="true" id="home">
                        <paper-material elevation="1">
                            <!-- my-greeting></my-greeting -->

                            <!-- p class="paper-font-subhead">You now have:</p -->
                            <!-- my-list></my-list -->
                            <h3 class="card__title">Thanks for stopping by! Are you ready to get Vote Savvy? This quiz helps you identify the information you need.</h3>
                            <p class="paper-font-body2">The quiz is part of an academic study led by researchers at Carleton University and the University of Oxford. The study aims to uncover how young Canadians collect political information, how they participate in politics, and the political issues Canadian youth are concerned with. The quiz should take less than 5 minutes to complete.</p>
                            <p class="paper-font-body2">Participation is voluntary and responses will be kept confidential. You are free to not respond to any questions you choose with no penalty.</p>
                            <p class="paper-font-body2">If you have questions at any time about the study or the procedures, you may contact Elizabeth Dubois: <a href="mailto:elizabeth.dubois@oii.ox.ac.uk">elizabeth.dubois@oii.ox.ac.uk</a> .</p>
                        </paper-material>

                        <template is='dom-if' id="twittersignin" if="{{signinvisible}}">
                            <paper-material elevation="1">
                                <p class="paper-font-body2">If you want, you can sign in to Twitter now to speed up the quiz later. Don’t have Twitter? No problem! You don’t need it for the quiz.</p>
                                <p class="paper-font-body2">Tip: By connecting with Twitter you are allowing the researcher to gain contextual information which can help us better understand young voters in Canada. Your data will remain confidential and will not be shared with anyone beyond the research team.</p>
                                <input type="image" src="../images/sign-in-with-twitter-gray.png" onclick="location.href='signintwitters/step1'" />
                            </paper-material>
                        </template>

                        <paper-material elevation="1">
                            <p class="paper-font-body2">By ticking the box below you are stating ‘I have read the above information and agree to participate in this research project. I am at least 18 years of age.'</p>
                            <paper-checkbox id="consentCheckbox">I Consent</paper-checkbox>
                        </paper-material>

                        <paper-fab id="consentButton" class="nextButton" icon="arrow-forward"></paper-fab>
                        <p class="nextButton">Start Quiz! &nbsp </p>
                        <paper-toast id="toaster" text="We need your consent to continue!"></paper-toast>


                    </section>

                    <section data-route="issues" animateInitialSelection="true" id="issues">

                        <!-- SECTION 1 -->

                        <div class="subject"> Please choose the political issue you care about the most from this list:</div>
                        <paper-material elevation="1">
                            <paper-item>
                                <paper-radio-group id="selected">
                                    <paper-radio-button class="choice" name="Crime and Justice" label="Crime and Justice">Crime and Justice</paper-radio-button>
                                    <paper-radio-button class="choice" name="Welfare" label="Welfare">Welfare</paper-radio-button>
                                    <paper-radio-button class="choice" name="Defense and International Affairs" label="Defense and International Affairs">Defense and International Affairs</paper-radio-button>
                                    <paper-radio-button class="choice" name="Environment" label="Environment">Environment</paper-radio-button>
                                    <paper-radio-button class="choice" name="Economy" label="Economy">Economy</paper-radio-button>
                                    <paper-radio-button class="choice" name="Healthcare" label="Healthcare">Healthcare</paper-radio-button>
                                    <paper-radio-button class="choice" name="Education" label="Education">Education</paper-radio-button>
                                </paper-radio-group>
                            </paper-item>

                        </paper-material>
                        <paper-fab id="issuesButton" class="nextButton" icon="arrow-forward"></paper-fab>
                    </section>

                    <section data-route="interest" animateInitialSelection="true" id="interest">
                        <div class="subject ">How frequently do you actively look for information about the 2015 federal election?</div>
                        <paper-material elevation="1 ">

                            <paper-item>
                                <paper-item-body two-line>
                                    <paper-radio-group id="interest">
                                        <paper-radio-button class="choice " name="1" label="Never">Never</paper-radio-button>
                                        <paper-radio-button class="choice " name="2" label="Little">A little (less than weekly)</paper-radio-button>
                                        <paper-radio-button class="choice " name="3" label="Frequently">Frequently (weekly to several times a week)</paper-radio-button>
                                        <paper-radio-button class="choice " name="4" label="Very frequently">Very frequently (daily or more)</paper-radio-button>
                                    </paper-radio-group>
                                </paper-item-body>
                            </paper-item>

                        </paper-material>
                        <paper-fab id="interestButton" class="nextButton" icon="arrow-forward"></paper-fab>
                    </section>

                    <section data-route="sources" id="sources">

                        <template is="dom-repeat" items="{{sources}}">
                            <div class="subject ">{{item.question.prefix}}<span style="font-style: italic">{{item.question.keyword}}</span>{{item.question.suffix}}</div>
                            <template is="dom-repeat" items="{{item.question.tips}}">
                                <div class="ratinginfo">{{item}}</div>
                            </template>
                            <paper-material elevation="1 ">
                                <paper-item>
                                    <paper-item-body two-line>
                                        <template is="dom-repeat" items="{{item.evaluations}}">
                                            <div class="mediaitem">{{item.title}}</div>
                                            <paper-slider id="{{item.id}}" snaps="true" pin min="0 " max="5 " step="1 "></paper-slider>
                                        </template>
                                    </paper-item-body>
                                </paper-item>
                            </paper-material>
                        </template>

                        <paper-fab id="sourcesButton" class="nextButton" icon="arrow-forward"></paper-fab>
                    </section>

                    <section data-route="activity" id="activity">

                        <div class="subject ">During the past 12 months I have:</div>
                        <div class="ratinginfo ">Tip: Please select all that apply.</div>
                        <paper-material elevation="1 ">
                            <paper-item>
                                <paper-item-body two-line>
                                    <paper-checkbox id="face">Discussed a political or societal issue face-to-face or over the phone</paper-checkbox>
                                    <paper-checkbox id="message">Used email or instant messaging to discuss a political or societal issue</paper-checkbox>
                                    <paper-checkbox id="social">Circulated, (re)posted or embedded political information or content on social media such as Facebook, Twitter, blogging site or other social media</paper-checkbox>
                                    <paper-checkbox id="petition">Signed a petition</paper-checkbox>
                                    <paper-checkbox id="protest">Participated in a protest or demonstration</paper-checkbox>
                                    <paper-checkbox id="volunteerPolitical">Volunteered for a political party</paper-checkbox>
                                    <paper-checkbox id="donatePolitical">Donated to a political party</paper-checkbox>
                                    <paper-checkbox id="volunteerCharity">Volunteered for a charity, community organization or cause</paper-checkbox>
                                    <paper-checkbox id="donateCharity">Raised money for, or donated money to, a charity, community organization or cause</paper-checkbox>
                                </paper-item-body>
                            </paper-item>
                        </paper-material>
                        <paper-fab id="activityButton" class="nextButton" icon="arrow-forward"></paper-fab>
                    </section>

                    <section data-route="work" id="work">
                        <div class="subject ">What's your current working situation:</div>
                        <div class="ratinginfo ">Tip: Please select all that apply.</div>
                        <paper-material elevation="1 ">
                            <paper-item>
                                <paper-item-body data-route="work">
                                    <paper-checkbox class="choice" id="fullTime" label="Small ">Working full time (30+ hours a week)</paper-checkbox>
                                    <paper-checkbox class="choice" id="partTime" label="Medium ">Working part time (8-29 hours a week)</paper-checkbox>
                                    <paper-checkbox class="choice" id="unemployed" label="Large ">Unemployed</paper-checkbox>
                                    <paper-checkbox class="choice" id="disabled" label="Large ">Permanently sick or disabled</paper-checkbox>
                                    <paper-checkbox class="choice" id="undergradStudent" label="Large ">Undergraduate student</paper-checkbox>
                                    <paper-checkbox class="choice" id="mastersStudent" label="Large ">Master's student</paper-checkbox>
                                    <paper-checkbox class="choice" id="phdStudent" label="Large ">PhD/post-doctoral students</paper-checkbox>
                                    <paper-checkbox class="choice" id="collegeStudentApprentice" label="Large ">College student or other training (e.g. full-time apprenticeship)</paper-checkbox>
                                    <paper-checkbox class="choice" id="home" label="Large ">Full-time doing housework, looking after children or other persons</paper-checkbox>
                                    <paper-checkbox class="choice" id="retired" label="Large ">Retired</paper-checkbox>
                                    <paper-checkbox class="choice" id="undisclosed" label="Large ">Prefer not to disclose</paper-checkbox>
                                </paper-item-body>
                            </paper-item>
                        </paper-material>
                        <paper-fab id="workButton" class="nextButton" icon="arrow-forward"></paper-fab>
                    </section>


                    <section data-route="personal" id="personal">
                        <div class="subject ">Gender (self identified):</div>
                        <paper-material elevation="1 ">
                            <paper-item>
                                <paper-radio-group id="gender">
                                    <paper-radio-button class="choice " name="female" label="Small ">Female</paper-radio-button>
                                    <paper-radio-button class="choice " name="male" label="Medium ">Male</paper-radio-button>
                                    <paper-radio-button class="choice " name="other" label="Large ">Other</paper-radio-button>
                                    <paper-radio-button class="choice " name="undisclosed" label="Large ">Prefer not to state</paper-radio-button>
                                </paper-radio-group>
                            </paper-item>
                        </paper-material>
                        <div class="subject ">What year were you born?</div>
                        <paper-material elevation="1 ">
                            <paper-item>
                                <select id="yearOfBirth">
                                </select>
                                <br>
                            </paper-item>

                        </paper-material>
                        <div class="subject ">What is your postal code? (e.g. K1A 0A9)</div>
                        <div class="ratinginfo ">Tip: This helps researchers understand differences across the country and helps Vote Savvy give you information about candidates in your area.</div>
                        <paper-material elevation="1 ">
                            <paper-input auto-capitalize="characters" auto-validate id="postalCode" char-counter
                                         pattern="^[abceghjklmnprstvxyABCEGHJKLMNPRSTVXY]\d[abceghjklmnprstvxyzABCEGHJKLMNPRSTVWXYZ]( )?\d[abceghjklmnprstvxyzABCEGHJKLMNPRSTVWXYZ]\d$"
                                         maxlength="7" error-message="Please follow the format of canadian postal code!">
                            </paper-input>

                            <p>Or, select a location in the following map: </p>
                            <google-maps-api api-key="AIzaSyClOfzJ1sj6XSB4WRm7_oHGEG0M8Z1FFxk" id="mapAPI"></google-maps-api>
                            <google-map api-key="AIzaSyClOfzJ1sj6XSB4WRm7_oHGEG0M8Z1FFxk" click-events="true" mouse-events="true" latitude="{{lat}}" longitude="{{lng}}">
                                <google-map-marker id="markedLocation" latitude="{{markerlat}}" longitude="{{markerlng}}" draggable="true">
                                </google-map-marker>
                            </google-map>
                        </paper-material>
                        <paper-fab id="personalButton" class="nextButton" icon="arrow-forward"></paper-fab>
                    </section>

                    <section data-route="email" id="email">
                        <div class="subject ">What is your email address?</div>
                        <div class="ratinginfo ">Tip: Your email address will be kept confidential and you will only be contacted for research purposes.</div>
                        <paper-material elevation="1">
                            <paper-item>
                                <paper-input id="email" char-counter auto-validate pattern="^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$" maxlength="40" error-message="Please enter a valid email address!"></paper-input>
                            </paper-item>
                        </paper-material>

                        <div class="subject ">If you have Twitter, what is your Twitter handle? (e.g. @VoteSavvy)</div>
                        <div class="ratinginfo ">Tip: By connecting with Twitter you are allowing the researcher to gain contextual information which can help us better understand young voters in Canada. Your data will remain confidential and will not be shared with anyone beyond the research team.</div>
                        <paper-material elevation="1">
                            <paper-item>
                                <paper-input id="twitter" char-counter auto-validate pattern="^@?(\w){1,15}$" maxlength="20" error-message="Please enter a valid twitter user name!"></paper-input>
                            </paper-item>
                        </paper-material>

                        <paper-fab id="emailButton" class="nextButton" icon="arrow-forward"></paper-fab>
                    </section>

                    <section data-route="lastPage" id="lastPage">
                        <div class="subject ">Young people are amongst the least likely to vote in Canadian elections. Why do you think this is the case?</div>
                        <paper-material elevation="1">
                            <paper-input id="youthVoting"></paper-input>
                        </paper-material>

                        <div class="subject ">What do you think is the most important issue facing Canadians today? </div>
                        <paper-material elevation="1">
                            <paper-input id="proposedIssue"></paper-input>
                        </paper-material>

                        <div class="subject ">How likely are you to vote in the 2015 federal election? </div>
                        <div class="ratinginfo ">Tip: From left to right: Very unlikely to very likely</div>
                        <paper-material elevation="1">
                            <paper-item>
                                <paper-item-body>
                                    <paper-slider id="yourParticipation" snaps="true" pin="true" min="0 " max="4 " step="1 "></paper-slider>
                                </paper-item-body>
                            </paper-item>
                        </paper-material>

                        <paper-fab id="endButton" class="nextButton" icon="file-upload"></paper-fab>
                        <p class="nextButton">All done! Click here to submit your responses and get your custom information kit for the 2015 election! &nbsp </p>

                    </section>

                    <section data-route="infopack" id="infopack">

                        <template is='dom-if' id="infoAttention" if="{{attentionVisible}}">
                            <template is="dom-repeat" items="{{attentions}}">
                                <div class="subject ">{{item}}</div>
                            </template>
                        </template>

                        <div class="subject ">You said ISSUE <span style="font-style: italic">{{yourissue}}</span> was your top issue. This is where each of the major parties stands on this issue :</div>
                        <paper-material elevation="1">
                            <div id="partyInfo"></div>
                        </paper-material>

                        <div class="subject ">Based on your postal code <span style="font-style: italic">{{yourpostcode}}</span>, these are the candidates that you can vote for in the election :</div>
                        <paper-material elevation="1">
                            <template is="dom-repeat" items="{{candidates}}">
                                <div>
                                <img class="photo" src="{{item.photo_url}}"> </img>
                                <div class="list">
                                    <paper-item>
                                        <paper-item-body two-line>
                                            <div class="label"> Name: </div>
                                            <div> <span>{{item.name}}</span></div>
                                        </paper-item-body>
                                    </paper-item>

                                    <paper-item>
                                        <paper-item-body two-line>
                                            <div class="label"> Party: </div>
                                            <div> <span>{{item.party_name}}</span></div>
                                        </paper-item-body>
                                    </paper-item>

                                    <paper-item>
                                        <paper-item-body two-line>
                                            <div class="label" > Website: </div>
                                            <div ><a href="{{item.personal_url}}" target="_blank"> <span>{{item.personal_url}}</span> </a></div>
                                        </paper-item-body>
                                    </paper-item>
                                </div>
                                </div>
                            </template>

                        </paper-material>

                        <div class="subject ">general voting instructions </div>
                        <paper-material elevation="1">
                            <paper-item>
                                <paper-item-body>
                                    <p>from Elections Canada</p>
                                </paper-item-body>
                            </paper-item>
                        </paper-material>
                    </section>

                    <iron-ajax method="GET" id="getCandidateCall" contentType="application/json" handle-as="json" debounce-duration="300">
                    </iron-ajax>

                    <iron-ajax method="GET" id="formRetrieveCall" url="/survey/data" contentType="application/json" handle-as="json" debounce-duration="300">
                    </iron-ajax>

                    <iron-ajax method="POST" id="formSubmitCall" url="../survey/submit" contentType="application/json" handle-as="json" debounce-duration="300">
                    </iron-ajax>

                </iron-pages>

            </div>
        </paper-header-panel>

    </template>
    <!-- build:js scripts/app.js -->
    <script src="../app/scripts/app.js "></script>
    <!-- endbuild-->
</body>

</html>